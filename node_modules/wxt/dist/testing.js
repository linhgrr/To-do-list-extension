import {
  download,
  globals,
  resolveAppConfig,
  resolveConfig,
  tsconfigPaths,
  vitePlugin,
  webextensionPolyfillMock
} from "./chunk-ZONHOHIX.js";
import "./chunk-BERPNPEZ.js";
import "./chunk-6XSIWUWF.js";
import "./chunk-BM6QYGAW.js";
import "./chunk-QGM4M3NI.js";

// src/testing/fake-browser.ts
import { fakeBrowser } from "@webext-core/fake-browser";

// src/testing/wxt-vitest-plugin.ts
import { createUnimport } from "unimport";
function WxtVitest(inlineConfig) {
  return resolveConfig(inlineConfig ?? {}, "serve").then(async (config) => {
    const plugins = [
      webextensionPolyfillMock(config),
      globals(config),
      download(config),
      tsconfigPaths(config),
      resolveAppConfig(config)
    ];
    if (config.imports !== false) {
      const unimport = createUnimport(config.imports);
      await unimport.init();
      plugins.push(vitePlugin(unimport));
    }
    return plugins;
  });
}
export {
  WxtVitest,
  fakeBrowser
};
